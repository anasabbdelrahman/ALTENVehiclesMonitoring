{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/BassamAZ/Documents/GitHub/vmc-ui/src/TableContainer.jsx\";\nimport React, { Component } from \"react\";\nimport Table from \"./Table\";\nimport _ from \"lodash\";\nimport Pagination from \"./Pagination/Pagination\";\nimport Select from \"react-select\";\nimport \"react-select/dist/react-select.css\";\nimport \"./TableContainer.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"../styles/global-styles.css\";\n\nclass TableContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data.data,\n      data1: this.props.data.data,\n      head: this.props.data.head,\n      currentPage: 1,\n      itemsPerPage: this.props.size,\n      totalPages: 0,\n      numberofPages: 0,\n      value: \"\",\n      pagedata: _.chunk(this.props.data.data, this.props.size)\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      totalPages: Math.ceil(this.state.data.length / this.state.itemsPerPage),\n      data: this.state.pagedata[this.state.currentPage - 1]\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.value\n    });\n  }\n\n  handlePage(e) {\n    this.state.totalPages <= Math.ceil(this.state.data1.length / e.value) ? this.setState({\n      itemsPerPage: e.value,\n      totalPages: Math.ceil(this.state.data1.length / e.value)\n    }) : this.setState({\n      currentPage: 1,\n      itemsPerPage: e.value,\n      totalPages: Math.ceil(this.state.data1.length / e.value)\n    });\n  }\n\n  componentDidUpdate(nextProps, nextState) {\n    if (this.state.data !== nextState.data) {\n      this.setState({\n        data: nextState.pagedata[nextState.currentPage - 1]\n      });\n    }\n  } //for filter data\n\n\n  filter(e) {\n    this.setState({\n      filter: e.target.value\n    });\n  } //iso 8601 to date object\n\n\n  render() {\n    let tbData = this.state.data1;\n    tbData = tbData.map(data => {\n      let time;\n      data.created_at ? time = data.created_at : time = \"\";\n      let date = new Date(time);\n      let dt = date.getDate();\n      let month = date.getMonth() + 1;\n\n      if (dt < 10) {\n        dt = \"0\" + dt;\n      }\n\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n\n      let date_Data = date.getFullYear() + \"-\" + month + \"-\" + dt;\n      data.created_at ? data.created_at = date_Data : null;\n      return Object.values(data);\n    });\n\n    let tbdata2 = _.chunk(tbData, this.state.itemsPerPage);\n\n    let items = tbdata2[this.state.currentPage - 1];\n    let keys = this.state.value; //filter items\n\n    if (this.state.filter) {\n      let data = tbData.filter(item => {\n        let searchTerms = keys === \"\" ? item : item[keys];\n        return searchTerms.toString().toLowerCase().includes(this.state.filter.toLowerCase());\n      });\n      tbdata2 = _.chunk(data, this.state.itemsPerPage);\n      items = tbdata2[this.state.currentPage - 1];\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        style: {\n          marginBottom: 15,\n          marginTop: 20,\n          padding: 10,\n          minWidth: 600\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          style: this.props.style ? this.props.style : {\n            opacity: 0.8,\n            backgroundColor: \"blue\",\n            color: \"#ffffff\",\n            textAlign: \"center\"\n          },\n          children: this.props.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"react-bs-table-container\",\n            children: /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"react-bs-table-tool-bar\",\n                children: this.props.search === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    style: {\n                      paddingRight: 0,\n                      zIndex: 1\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Select, {\n                      style: {\n                        paddingBottom: 6,\n                        borderBottomLeftRadius: 4,\n                        borderBottomRightRadius: 0,\n                        borderTopLeftRadius: 4,\n                        borderTopRightRadius: 0\n                      },\n                      name: \"Filter By\",\n                      placeholder: \"Filter By\",\n                      value: this.state.value,\n                      onChange: this.handleChange.bind(this),\n                      clearable: false,\n                      options: [{\n                        value: \"\",\n                        label: \"All\"\n                      }, ...Object.values(this.state.head).map((data, index) => ({\n                        value: index,\n                        label: data\n                      }))]\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-8\",\n                    style: {\n                      paddingLeft: 0\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control my-0 grey-border\",\n                      style: {\n                        paddingBottom: 4,\n                        borderBottomLeftRadius: 0,\n                        borderBottomRightRadius: 4,\n                        borderTopLeftRadius: 0,\n                        borderTopRightRadius: 4\n                      },\n                      type: \"text\",\n                      placeholder: \"Search\",\n                      \"aria-label\": \"Search\",\n                      onChange: this.filter.bind(this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 160,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Table, {\n                tableStyle: this.props.tableStyle,\n                allData: this.state.data1,\n                data: items,\n                head: this.state.head,\n                onRowClick: this.props.onRowClick,\n                isLoading: this.props.isLoading,\n                sortedData: data => this.setState({\n                  data1: data\n                }),\n                loadingmsg: this.props.loadingmsg ? this.props.loadingmsg : \"Loading. . .\",\n                errormsg: this.props.errormsg ? this.props.errormsg : \"Error. . .\",\n                sort: this.props.sort\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), !this.props.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-4\",\n                  children: this.props.pagination === true ? /*#__PURE__*/_jsxDEV(Pagination, {\n                    totalPages: this.state.filter ? tbdata2.length : this.state.totalPages //this.state.totalPages\n                    ,\n                    currentPage: //this.state.filter ? \"1\" : this.state.currentPage\n                    this.state.currentPage,\n                    onPageLinkClick: page => this.setState({\n                      currentPage: page\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 25\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-4\",\n                  children: this.props.pages === true ? /*#__PURE__*/_jsxDEV(Select, {\n                    className: \"selectouter\",\n                    style: {\n                      marginLeft: \"auto\",\n                      marginRight: \"auto\",\n                      paddingBottom: 6,\n                      borderBottomLeftRadius: 4,\n                      borderBottomRightRadius: 0,\n                      borderTopLeftRadius: 4,\n                      borderTopRightRadius: 0,\n                      marginTop: 10\n                    },\n                    name: \"Filter By\",\n                    placeholder: \"Filter By\",\n                    value: this.state.itemsPerPage,\n                    onChange: this.handlePage.bind(this),\n                    clearable: false,\n                    options: [{\n                      value: 5,\n                      label: \"5 rows\"\n                    }, {\n                      value: 10,\n                      label: \"10 rows\"\n                    }, {\n                      value: 20,\n                      label: \"20 rows\"\n                    }, {\n                      value: 25,\n                      label: \"25 rows\"\n                    }, {\n                      value: 50,\n                      label: \"50 rows\"\n                    }, {\n                      value: 100,\n                      label: \"100 rows\"\n                    }]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 25\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-4\",\n                  children: this.props.page === true ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      float: \"right\",\n                      marginTop: 15\n                    },\n                    children: [\"Page \", this.state.currentPage, \" of \", tbdata2.length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 25\n                  }, this) : null\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default TableContainer;","map":{"version":3,"sources":["/Users/BassamAZ/Documents/GitHub/vmc-ui/src/TableContainer.jsx"],"names":["React","Component","Table","_","Pagination","Select","TableContainer","constructor","props","state","data","data1","head","currentPage","itemsPerPage","size","totalPages","numberofPages","value","pagedata","chunk","componentDidMount","setState","Math","ceil","length","handleChange","event","handlePage","e","componentDidUpdate","nextProps","nextState","filter","target","render","tbData","map","time","created_at","date","Date","dt","getDate","month","getMonth","date_Data","getFullYear","Object","values","tbdata2","items","keys","item","searchTerms","toString","toLowerCase","includes","marginBottom","marginTop","padding","minWidth","style","opacity","backgroundColor","color","textAlign","title","search","paddingRight","zIndex","paddingBottom","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","bind","label","index","paddingLeft","tableStyle","onRowClick","isLoading","loadingmsg","errormsg","sort","pagination","page","pages","marginLeft","marginRight","float"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAO,oCAAP;AACA,OAAO,sBAAP;AACA,OAAO,kCAAP;AACA,OAAO,6BAAP;;AAEA,MAAMC,cAAN,SAA6BL,SAA7B,CAAuC;AACrCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,KAAKF,KAAL,CAAWE,IAAX,CAAgBA,IADX;AAEXC,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,IAAX,CAAgBA,IAFZ;AAGXE,MAAAA,IAAI,EAAE,KAAKJ,KAAL,CAAWE,IAAX,CAAgBE,IAHX;AAIXC,MAAAA,WAAW,EAAE,CAJF;AAKXC,MAAAA,YAAY,EAAE,KAAKN,KAAL,CAAWO,IALd;AAMXC,MAAAA,UAAU,EAAE,CAND;AAOXC,MAAAA,aAAa,EAAE,CAPJ;AAQXC,MAAAA,KAAK,EAAE,EARI;AASXC,MAAAA,QAAQ,EAAEhB,CAAC,CAACiB,KAAF,CAAQ,KAAKZ,KAAL,CAAWE,IAAX,CAAgBA,IAAxB,EAA8B,KAAKF,KAAL,CAAWO,IAAzC;AATC,KAAb;AAWD;;AAEDM,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,QAAL,CAAc;AACZN,MAAAA,UAAU,EAAEO,IAAI,CAACC,IAAL,CAAU,KAAKf,KAAL,CAAWC,IAAX,CAAgBe,MAAhB,GAAyB,KAAKhB,KAAL,CAAWK,YAA9C,CADA;AAEZJ,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWU,QAAX,CAAoB,KAAKV,KAAL,CAAWI,WAAX,GAAyB,CAA7C;AAFM,KAAd;AAID;;AAEDa,EAAAA,YAAY,CAACC,KAAD,EAAQ;AAClB,SAAKL,QAAL,CAAc;AAAEJ,MAAAA,KAAK,EAAES,KAAK,CAACT;AAAf,KAAd;AACD;;AACDU,EAAAA,UAAU,CAACC,CAAD,EAAI;AACZ,SAAKpB,KAAL,CAAWO,UAAX,IAAyBO,IAAI,CAACC,IAAL,CAAU,KAAKf,KAAL,CAAWE,KAAX,CAAiBc,MAAjB,GAA0BI,CAAC,CAACX,KAAtC,CAAzB,GACI,KAAKI,QAAL,CAAc;AACZR,MAAAA,YAAY,EAAEe,CAAC,CAACX,KADJ;AAEZF,MAAAA,UAAU,EAAEO,IAAI,CAACC,IAAL,CAAU,KAAKf,KAAL,CAAWE,KAAX,CAAiBc,MAAjB,GAA0BI,CAAC,CAACX,KAAtC;AAFA,KAAd,CADJ,GAKI,KAAKI,QAAL,CAAc;AACZT,MAAAA,WAAW,EAAE,CADD;AAEZC,MAAAA,YAAY,EAAEe,CAAC,CAACX,KAFJ;AAGZF,MAAAA,UAAU,EAAEO,IAAI,CAACC,IAAL,CAAU,KAAKf,KAAL,CAAWE,KAAX,CAAiBc,MAAjB,GAA0BI,CAAC,CAACX,KAAtC;AAHA,KAAd,CALJ;AAUD;;AACDY,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuB;AACvC,QAAI,KAAKvB,KAAL,CAAWC,IAAX,KAAoBsB,SAAS,CAACtB,IAAlC,EAAwC;AACtC,WAAKY,QAAL,CAAc;AACZZ,QAAAA,IAAI,EAAEsB,SAAS,CAACb,QAAV,CAAmBa,SAAS,CAACnB,WAAV,GAAwB,CAA3C;AADM,OAAd;AAGD;AACF,GA5CoC,CA8CrC;;;AACAoB,EAAAA,MAAM,CAACJ,CAAD,EAAI;AACR,SAAKP,QAAL,CAAc;AAAEW,MAAAA,MAAM,EAAEJ,CAAC,CAACK,MAAF,CAAShB;AAAnB,KAAd;AACD,GAjDoC,CAmDrC;;;AACAiB,EAAAA,MAAM,GAAG;AACP,QAAIC,MAAM,GAAG,KAAK3B,KAAL,CAAWE,KAAxB;AACAyB,IAAAA,MAAM,GAAGA,MAAM,CAACC,GAAP,CAAW3B,IAAI,IAAI;AAC1B,UAAI4B,IAAJ;AACA5B,MAAAA,IAAI,CAAC6B,UAAL,GAAmBD,IAAI,GAAG5B,IAAI,CAAC6B,UAA/B,GAA8CD,IAAI,GAAG,EAArD;AACA,UAAIE,IAAI,GAAG,IAAIC,IAAJ,CAASH,IAAT,CAAX;AACA,UAAII,EAAE,GAAGF,IAAI,CAACG,OAAL,EAAT;AACA,UAAIC,KAAK,GAAGJ,IAAI,CAACK,QAAL,KAAkB,CAA9B;;AACA,UAAIH,EAAE,GAAG,EAAT,EAAa;AACXA,QAAAA,EAAE,GAAG,MAAMA,EAAX;AACD;;AACD,UAAIE,KAAK,GAAG,EAAZ,EAAgB;AACdA,QAAAA,KAAK,GAAG,MAAMA,KAAd;AACD;;AACD,UAAIE,SAAS,GAAGN,IAAI,CAACO,WAAL,KAAqB,GAArB,GAA2BH,KAA3B,GAAmC,GAAnC,GAAyCF,EAAzD;AACAhC,MAAAA,IAAI,CAAC6B,UAAL,GAAmB7B,IAAI,CAAC6B,UAAL,GAAkBO,SAArC,GAAkD,IAAlD;AACA,aAAOE,MAAM,CAACC,MAAP,CAAcvC,IAAd,CAAP;AACD,KAfQ,CAAT;;AAgBA,QAAIwC,OAAO,GAAG/C,CAAC,CAACiB,KAAF,CAAQgB,MAAR,EAAgB,KAAK3B,KAAL,CAAWK,YAA3B,CAAd;;AACA,QAAIqC,KAAK,GAAGD,OAAO,CAAC,KAAKzC,KAAL,CAAWI,WAAX,GAAyB,CAA1B,CAAnB;AAEA,QAAIuC,IAAI,GAAG,KAAK3C,KAAL,CAAWS,KAAtB,CArBO,CAsBP;;AACA,QAAI,KAAKT,KAAL,CAAWwB,MAAf,EAAuB;AACrB,UAAIvB,IAAI,GAAG0B,MAAM,CAACH,MAAP,CAAcoB,IAAI,IAAI;AAC/B,YAAIC,WAAW,GAAGF,IAAI,KAAK,EAAT,GAAcC,IAAd,GAAqBA,IAAI,CAACD,IAAD,CAA3C;AACA,eAAOE,WAAW,CACfC,QADI,GAEJC,WAFI,GAGJC,QAHI,CAGK,KAAKhD,KAAL,CAAWwB,MAAX,CAAkBuB,WAAlB,EAHL,CAAP;AAID,OANU,CAAX;AAOAN,MAAAA,OAAO,GAAG/C,CAAC,CAACiB,KAAF,CAAQV,IAAR,EAAc,KAAKD,KAAL,CAAWK,YAAzB,CAAV;AACAqC,MAAAA,KAAK,GAAGD,OAAO,CAAC,KAAKzC,KAAL,CAAWI,WAAX,GAAyB,CAA1B,CAAf;AACD;;AAED,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,6BACE;AACE,QAAA,SAAS,EAAC,MADZ;AAEE,QAAA,KAAK,EAAE;AACL6C,UAAAA,YAAY,EAAE,EADT;AAELC,UAAAA,SAAS,EAAE,EAFN;AAGLC,UAAAA,OAAO,EAAE,EAHJ;AAILC,UAAAA,QAAQ,EAAE;AAJL,SAFT;AAAA,gCASE;AACE,UAAA,SAAS,EAAC,aADZ;AAEE,UAAA,KAAK,EACH,KAAKrD,KAAL,CAAWsD,KAAX,GACI,KAAKtD,KAAL,CAAWsD,KADf,GAEI;AACEC,YAAAA,OAAO,EAAE,GADX;AAEEC,YAAAA,eAAe,EAAE,MAFnB;AAGEC,YAAAA,KAAK,EAAE,SAHT;AAIEC,YAAAA,SAAS,EAAE;AAJb,WALR;AAAA,oBAaG,KAAK1D,KAAL,CAAW2D;AAbd;AAAA;AAAA;AAAA;AAAA,gBATF,eAwBE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,0BAAf;AAAA,mCACE,QAAC,KAAD,CAAO,QAAP;AAAA,sCACE;AAAK,gBAAA,SAAS,EAAC,yBAAf;AAAA,0BACG,KAAK3D,KAAL,CAAW4D,MAAX,KAAsB,IAAtB,gBACC;AAAK,kBAAA,SAAS,EAAC,KAAf;AAAA,0CACE;AACE,oBAAA,SAAS,EAAC,OADZ;AAEE,oBAAA,KAAK,EAAE;AAAEC,sBAAAA,YAAY,EAAE,CAAhB;AAAmBC,sBAAAA,MAAM,EAAE;AAA3B,qBAFT;AAAA,2CAIE,QAAC,MAAD;AACE,sBAAA,KAAK,EAAE;AACLC,wBAAAA,aAAa,EAAE,CADV;AAELC,wBAAAA,sBAAsB,EAAE,CAFnB;AAGLC,wBAAAA,uBAAuB,EAAE,CAHpB;AAILC,wBAAAA,mBAAmB,EAAE,CAJhB;AAKLC,wBAAAA,oBAAoB,EAAE;AALjB,uBADT;AAQE,sBAAA,IAAI,EAAC,WARP;AASE,sBAAA,WAAW,EAAC,WATd;AAUE,sBAAA,KAAK,EAAE,KAAKlE,KAAL,CAAWS,KAVpB;AAWE,sBAAA,QAAQ,EAAE,KAAKQ,YAAL,CAAkBkD,IAAlB,CAAuB,IAAvB,CAXZ;AAYE,sBAAA,SAAS,EAAE,KAZb;AAaE,sBAAA,OAAO,EAAE,CACP;AAAE1D,wBAAAA,KAAK,EAAE,EAAT;AAAa2D,wBAAAA,KAAK,EAAE;AAApB,uBADO,EAEP,GAAG7B,MAAM,CAACC,MAAP,CAAc,KAAKxC,KAAL,CAAWG,IAAzB,EAA+ByB,GAA/B,CACD,CAAC3B,IAAD,EAAOoE,KAAP,MAAkB;AAChB5D,wBAAAA,KAAK,EAAE4D,KADS;AAEhBD,wBAAAA,KAAK,EAAEnE;AAFS,uBAAlB,CADC,CAFI;AAbX;AAAA;AAAA;AAAA;AAAA;AAJF;AAAA;AAAA;AAAA;AAAA,0BADF,eA8BE;AAAK,oBAAA,SAAS,EAAC,OAAf;AAAuB,oBAAA,KAAK,EAAE;AAAEqE,sBAAAA,WAAW,EAAE;AAAf,qBAA9B;AAAA,2CACE;AACE,sBAAA,SAAS,EAAC,+BADZ;AAEE,sBAAA,KAAK,EAAE;AACLR,wBAAAA,aAAa,EAAE,CADV;AAELC,wBAAAA,sBAAsB,EAAE,CAFnB;AAGLC,wBAAAA,uBAAuB,EAAE,CAHpB;AAILC,wBAAAA,mBAAmB,EAAE,CAJhB;AAKLC,wBAAAA,oBAAoB,EAAE;AALjB,uBAFT;AASE,sBAAA,IAAI,EAAC,MATP;AAUE,sBAAA,WAAW,EAAC,QAVd;AAWE,oCAAW,QAXb;AAYE,sBAAA,QAAQ,EAAE,KAAK1C,MAAL,CAAY2C,IAAZ,CAAiB,IAAjB;AAZZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,GAgDG;AAjDN;AAAA;AAAA;AAAA;AAAA,sBADF,eAoDE,QAAC,KAAD;AACE,gBAAA,UAAU,EAAE,KAAKpE,KAAL,CAAWwE,UADzB;AAEE,gBAAA,OAAO,EAAE,KAAKvE,KAAL,CAAWE,KAFtB;AAGE,gBAAA,IAAI,EAAEwC,KAHR;AAIE,gBAAA,IAAI,EAAE,KAAK1C,KAAL,CAAWG,IAJnB;AAKE,gBAAA,UAAU,EAAE,KAAKJ,KAAL,CAAWyE,UALzB;AAME,gBAAA,SAAS,EAAE,KAAKzE,KAAL,CAAW0E,SANxB;AAOE,gBAAA,UAAU,EAAExE,IAAI,IAAI,KAAKY,QAAL,CAAc;AAAEX,kBAAAA,KAAK,EAAED;AAAT,iBAAd,CAPtB;AAQE,gBAAA,UAAU,EACR,KAAKF,KAAL,CAAW2E,UAAX,GACI,KAAK3E,KAAL,CAAW2E,UADf,GAEI,cAXR;AAaE,gBAAA,QAAQ,EACN,KAAK3E,KAAL,CAAW4E,QAAX,GAAsB,KAAK5E,KAAL,CAAW4E,QAAjC,GAA4C,YAdhD;AAgBE,gBAAA,IAAI,EAAE,KAAK5E,KAAL,CAAW6E;AAhBnB;AAAA;AAAA;AAAA;AAAA,sBApDF,EAuEG,CAAC,KAAK7E,KAAL,CAAW0E,SAAZ,gBACC;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,4BACG,KAAK1E,KAAL,CAAW8E,UAAX,KAA0B,IAA1B,gBACC,QAAC,UAAD;AACE,oBAAA,UAAU,EACR,KAAK7E,KAAL,CAAWwB,MAAX,GACIiB,OAAO,CAACzB,MADZ,GAEI,KAAKhB,KAAL,CAAWO,UAHP,CAIR;AALJ;AAOE,oBAAA,WAAW,EACT;AACA,yBAAKP,KAAL,CAAWI,WATf;AAWE,oBAAA,eAAe,EAAE0E,IAAI,IACnB,KAAKjE,QAAL,CAAc;AAAET,sBAAAA,WAAW,EAAE0E;AAAf,qBAAd;AAZJ;AAAA;AAAA;AAAA;AAAA,0BADD,GAgBG;AAjBN;AAAA;AAAA;AAAA;AAAA,wBADF,eAoBE;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,4BACG,KAAK/E,KAAL,CAAWgF,KAAX,KAAqB,IAArB,gBACC,QAAC,MAAD;AACE,oBAAA,SAAS,EAAC,aADZ;AAEE,oBAAA,KAAK,EAAE;AACLC,sBAAAA,UAAU,EAAE,MADP;AAELC,sBAAAA,WAAW,EAAE,MAFR;AAGLnB,sBAAAA,aAAa,EAAE,CAHV;AAILC,sBAAAA,sBAAsB,EAAE,CAJnB;AAKLC,sBAAAA,uBAAuB,EAAE,CALpB;AAMLC,sBAAAA,mBAAmB,EAAE,CANhB;AAOLC,sBAAAA,oBAAoB,EAAE,CAPjB;AAQLhB,sBAAAA,SAAS,EAAE;AARN,qBAFT;AAYE,oBAAA,IAAI,EAAC,WAZP;AAaE,oBAAA,WAAW,EAAC,WAbd;AAcE,oBAAA,KAAK,EAAE,KAAKlD,KAAL,CAAWK,YAdpB;AAeE,oBAAA,QAAQ,EAAE,KAAKc,UAAL,CAAgBgD,IAAhB,CAAqB,IAArB,CAfZ;AAgBE,oBAAA,SAAS,EAAE,KAhBb;AAiBE,oBAAA,OAAO,EAAE,CACP;AAAE1D,sBAAAA,KAAK,EAAE,CAAT;AAAY2D,sBAAAA,KAAK,EAAE;AAAnB,qBADO,EAEP;AAAE3D,sBAAAA,KAAK,EAAE,EAAT;AAAa2D,sBAAAA,KAAK,EAAE;AAApB,qBAFO,EAGP;AAAE3D,sBAAAA,KAAK,EAAE,EAAT;AAAa2D,sBAAAA,KAAK,EAAE;AAApB,qBAHO,EAIP;AAAE3D,sBAAAA,KAAK,EAAE,EAAT;AAAa2D,sBAAAA,KAAK,EAAE;AAApB,qBAJO,EAKP;AAAE3D,sBAAAA,KAAK,EAAE,EAAT;AAAa2D,sBAAAA,KAAK,EAAE;AAApB,qBALO,EAMP;AAAE3D,sBAAAA,KAAK,EAAE,GAAT;AAAc2D,sBAAAA,KAAK,EAAE;AAArB,qBANO;AAjBX;AAAA;AAAA;AAAA;AAAA,0BADD,GA2BG;AA5BN;AAAA;AAAA;AAAA;AAAA,wBApBF,eAkDE;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,4BACG,KAAKrE,KAAL,CAAW+E,IAAX,KAAoB,IAApB,gBACC;AAAK,oBAAA,KAAK,EAAE;AAAEI,sBAAAA,KAAK,EAAE,OAAT;AAAkBhC,sBAAAA,SAAS,EAAE;AAA7B,qBAAZ;AAAA,wCACQ,KAAKlD,KAAL,CAAWI,WADnB,UACoCqC,OAAO,CAACzB,MAD5C;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,GAIG;AALN;AAAA;AAAA;AAAA;AAAA,wBAlDF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,GA2DG,IAlIN;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAqKD;;AA5PoC;;AA+PvC,eAAenB,cAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Table from \"./Table\";\nimport _ from \"lodash\";\nimport Pagination from \"./Pagination/Pagination\";\nimport Select from \"react-select\";\nimport \"react-select/dist/react-select.css\";\nimport \"./TableContainer.css\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"../styles/global-styles.css\";\n\nclass TableContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: this.props.data.data,\n      data1: this.props.data.data,\n      head: this.props.data.head,\n      currentPage: 1,\n      itemsPerPage: this.props.size,\n      totalPages: 0,\n      numberofPages: 0,\n      value: \"\",\n      pagedata: _.chunk(this.props.data.data, this.props.size)\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      totalPages: Math.ceil(this.state.data.length / this.state.itemsPerPage),\n      data: this.state.pagedata[this.state.currentPage - 1]\n    });\n  }\n\n  handleChange(event) {\n    this.setState({ value: event.value });\n  }\n  handlePage(e) {\n    this.state.totalPages <= Math.ceil(this.state.data1.length / e.value)\n      ? this.setState({\n          itemsPerPage: e.value,\n          totalPages: Math.ceil(this.state.data1.length / e.value)\n        })\n      : this.setState({\n          currentPage: 1,\n          itemsPerPage: e.value,\n          totalPages: Math.ceil(this.state.data1.length / e.value)\n        });\n  }\n  componentDidUpdate(nextProps, nextState) {\n    if (this.state.data !== nextState.data) {\n      this.setState({\n        data: nextState.pagedata[nextState.currentPage - 1]\n      });\n    }\n  }\n\n  //for filter data\n  filter(e) {\n    this.setState({ filter: e.target.value });\n  }\n\n  //iso 8601 to date object\n  render() {\n    let tbData = this.state.data1;\n    tbData = tbData.map(data => {\n      let time;\n      data.created_at ? (time = data.created_at) : (time = \"\");\n      let date = new Date(time);\n      let dt = date.getDate();\n      let month = date.getMonth() + 1;\n      if (dt < 10) {\n        dt = \"0\" + dt;\n      }\n      if (month < 10) {\n        month = \"0\" + month;\n      }\n      let date_Data = date.getFullYear() + \"-\" + month + \"-\" + dt;\n      data.created_at ? (data.created_at = date_Data) : null;\n      return Object.values(data);\n    });\n    let tbdata2 = _.chunk(tbData, this.state.itemsPerPage);\n    let items = tbdata2[this.state.currentPage - 1];\n\n    let keys = this.state.value;\n    //filter items\n    if (this.state.filter) {\n      let data = tbData.filter(item => {\n        let searchTerms = keys === \"\" ? item : item[keys];\n        return searchTerms\n          .toString()\n          .toLowerCase()\n          .includes(this.state.filter.toLowerCase());\n      });\n      tbdata2 = _.chunk(data, this.state.itemsPerPage);\n      items = tbdata2[this.state.currentPage - 1];\n    }\n\n    return (\n      <div className=\"container\">\n        <div\n          className=\"card\"\n          style={{\n            marginBottom: 15,\n            marginTop: 20,\n            padding: 10,\n            minWidth: 600\n          }}\n        >\n          <div\n            className=\"card-header\"\n            style={\n              this.props.style\n                ? this.props.style\n                : {\n                    opacity: 0.8,\n                    backgroundColor: \"blue\",\n                    color: \"#ffffff\",\n                    textAlign: \"center\"\n                  }\n            }\n          >\n            {this.props.title}\n          </div>\n          <div className=\"card-body\">\n            <div className=\"react-bs-table-container\">\n              <React.Fragment>\n                <div className=\"react-bs-table-tool-bar\">\n                  {this.props.search === true ? (\n                    <div className=\"row\">\n                      <div\n                        className=\"col-4\"\n                        style={{ paddingRight: 0, zIndex: 1 }}\n                      >\n                        <Select\n                          style={{\n                            paddingBottom: 6,\n                            borderBottomLeftRadius: 4,\n                            borderBottomRightRadius: 0,\n                            borderTopLeftRadius: 4,\n                            borderTopRightRadius: 0\n                          }}\n                          name=\"Filter By\"\n                          placeholder=\"Filter By\"\n                          value={this.state.value}\n                          onChange={this.handleChange.bind(this)}\n                          clearable={false}\n                          options={[\n                            { value: \"\", label: \"All\" },\n                            ...Object.values(this.state.head).map(\n                              (data, index) => ({\n                                value: index,\n                                label: data\n                              })\n                            )\n                          ]}\n                        />\n                      </div>\n\n                      <div className=\"col-8\" style={{ paddingLeft: 0 }}>\n                        <input\n                          className=\"form-control my-0 grey-border\"\n                          style={{\n                            paddingBottom: 4,\n                            borderBottomLeftRadius: 0,\n                            borderBottomRightRadius: 4,\n                            borderTopLeftRadius: 0,\n                            borderTopRightRadius: 4\n                          }}\n                          type=\"text\"\n                          placeholder=\"Search\"\n                          aria-label=\"Search\"\n                          onChange={this.filter.bind(this)}\n                        />\n                      </div>\n                    </div>\n                  ) : null}\n                </div>\n                <Table\n                  tableStyle={this.props.tableStyle}\n                  allData={this.state.data1}\n                  data={items}\n                  head={this.state.head}\n                  onRowClick={this.props.onRowClick}\n                  isLoading={this.props.isLoading}\n                  sortedData={data => this.setState({ data1: data })}\n                  loadingmsg={\n                    this.props.loadingmsg\n                      ? this.props.loadingmsg\n                      : \"Loading. . .\"\n                  }\n                  errormsg={\n                    this.props.errormsg ? this.props.errormsg : \"Error. . .\"\n                  }\n                  sort={this.props.sort}\n                />\n\n                {!this.props.isLoading ? (\n                  <div className=\"row\">\n                    <div className=\"col-sm-4\">\n                      {this.props.pagination === true ? (\n                        <Pagination\n                          totalPages={\n                            this.state.filter\n                              ? tbdata2.length\n                              : this.state.totalPages\n                            //this.state.totalPages\n                          }\n                          currentPage={\n                            //this.state.filter ? \"1\" : this.state.currentPage\n                            this.state.currentPage\n                          }\n                          onPageLinkClick={page =>\n                            this.setState({ currentPage: page })\n                          }\n                        />\n                      ) : null}\n                    </div>\n                    <div className=\"col-sm-4\">\n                      {this.props.pages === true ? (\n                        <Select\n                          className=\"selectouter\"\n                          style={{\n                            marginLeft: \"auto\",\n                            marginRight: \"auto\",\n                            paddingBottom: 6,\n                            borderBottomLeftRadius: 4,\n                            borderBottomRightRadius: 0,\n                            borderTopLeftRadius: 4,\n                            borderTopRightRadius: 0,\n                            marginTop: 10\n                          }}\n                          name=\"Filter By\"\n                          placeholder=\"Filter By\"\n                          value={this.state.itemsPerPage}\n                          onChange={this.handlePage.bind(this)}\n                          clearable={false}\n                          options={[\n                            { value: 5, label: \"5 rows\" },\n                            { value: 10, label: \"10 rows\" },\n                            { value: 20, label: \"20 rows\" },\n                            { value: 25, label: \"25 rows\" },\n                            { value: 50, label: \"50 rows\" },\n                            { value: 100, label: \"100 rows\" }\n                          ]}\n                        />\n                      ) : null}\n                    </div>\n                    <div className=\"col-sm-4\">\n                      {this.props.page === true ? (\n                        <div style={{ float: \"right\", marginTop: 15 }}>\n                          Page {this.state.currentPage} of {tbdata2.length}\n                        </div>\n                      ) : null}\n                    </div>\n                  </div>\n                ) : null}\n              </React.Fragment>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default TableContainer;"]},"metadata":{},"sourceType":"module"}